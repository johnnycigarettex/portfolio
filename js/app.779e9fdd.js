(function(){"use strict";var e={6267:function(e,t,a){var i=a(9242),n=a(3396),o=a(7139);const r={class:"app"},l=(0,n._)("div",{class:"app__icon"},[(0,n._)("a",{href:"#/","aria-label":"landing page"},[(0,n._)("img",{src:"images/kav-dance-logo.gif","aria-hidden":"true"})])],-1),s={class:"app__nav-button-container"},g={class:"app__nav-list"},c=["onClick"],h=["href"],p={key:1},u=["href"],d={class:"app__header"},v={class:"app__header-title"},m={class:"app__header-title-sub"},f=["innerHTML"],_={key:1,class:"app__main-contact"},w=["href"],b={key:2},k=["width","height","src"],D={key:3,id:"w34ufs",class:"app__main-lightbox"},y=["src","alt"],C={key:4,class:"app__main-gallery"},O=["src","tabindex","aria-label","alt","onClick","onLoad"];function x(e,t,a,i,x,L){return(0,n.wg)(),(0,n.iD)("div",r,[l,(0,n._)("nav",{class:(0,o.C_)(["app__nav",{open:x.mobileNavOpen}])},[(0,n._)("div",s,[(0,n._)("button",{class:"app__nav-button",onClick:t[0]||(t[0]=e=>x.mobileNavOpen=!x.mobileNavOpen),"aria-label":"open navigation"})]),(0,n._)("ul",g,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(L.$siteContent.sections,((e,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a,class:(0,o.C_)(["app__nav-list-item",{active:x.navOpen[a]}]),onClick:e=>L.openItem(a)},[e.pages?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,href:"#/"+e.url,onClick:t[1]||(t[1]=e=>x.mobileNavOpen=!1)},(0,o.zw)(e.title),9,h)),e.pages?((0,n.wg)(),(0,n.iD)("button",p,(0,o.zw)(e.title),1)):(0,n.kq)("",!0),e.pages?((0,n.wg)(),(0,n.iD)("ul",{key:2,class:(0,o.C_)(["app__nav-list-sub",{active:x.navOpen[a]}])},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.pages,(a=>((0,n.wg)(),(0,n.iD)("li",{key:a.title,class:(0,o.C_)(["app__nav-list-sub-item",{active:x.currentSection===e.url&&x.currentPage===a.url}])},[(0,n._)("a",{href:"#/"+e.url+"/"+a.url,onClick:t[2]||(t[2]=e=>x.mobileNavOpen=!1)},(0,o.zw)(a.title),9,u)],2)))),128))],2)):(0,n.kq)("",!0)],10,c)))),128))])],2),(0,n._)("header",d,[(0,n._)("h1",v,[(0,n._)("div",m,(0,o.zw)(x.currentSection),1),(0,n.Uk)(" "+(0,o.zw)(x.pageData.heading||x.pageData.title),1)])]),(0,n._)("main",{class:(0,o.C_)(["app__main",{"landing-page":"landing"===x.currentPage}])},[x.pageData.text?((0,n.wg)(),(0,n.iD)("p",{key:0,class:"app__main-lede",innerHTML:x.pageData.text},null,8,f)):(0,n.kq)("",!0),x.pageData.contact?((0,n.wg)(),(0,n.iD)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(x.pageData.contact,((e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},[(0,n._)("span",null,(0,o.zw)(e.text),1),(0,n._)("a",{href:e.link,target:"_blank"},(0,o.zw)(e.label),9,w)],64)))),128))])):(0,n.kq)("",!0),x.pageData.videoLink?((0,n.wg)(),(0,n.iD)("div",b,[(0,n._)("iframe",{class:"app__main-video-container",width:x.videoPlayerWidth,height:x.videoPlayerHeight,src:x.pageData.videoLink,title:"Video player",frameborder:"0",allowfullscreen:""},null,8,k)])):(0,n.kq)("",!0),x.hasLightbox?((0,n.wg)(),(0,n.iD)("div",D,[(0,n._)("img",{src:"images/"+x.lightboxImage,alt:x.lightboxImage},null,8,y)])):(0,n.kq)("",!0),x.pageData.images?((0,n.wg)(),(0,n.iD)("div",C,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(x.pageData.images,((e,t)=>((0,n.wg)(),(0,n.iD)("img",{class:(0,o.C_)(["app__main-gallery-item",{"app__main-gallery-item--shop":"Shop"===x.currentSection,loaded:x.imageLoadState[t],hasLightbox:x.hasLightbox,open:x.lightboxImage===e}]),key:t,src:"images/"+e,tabindex:x.pageData.images.length>2?0:-1,role:"button","aria-label":e+". click to enlarge",alt:e,onClick:t=>L.openImage(e),onLoad:e=>x.imageLoadState[t]=!0},null,42,O)))),128))])):(0,n.kq)("",!0)],2)])}var L={name:"App",data(){return{currentSection:"",currentPage:"",pageData:{},navOpen:[],imageLoadState:[],mobileNavOpen:!1,lightboxImage:null,hasLightbox:!1,videoPlayerWidth:720,videoPlayerHeight:405}},inject:["$siteContent"],created(){this.urlChange(),this.navOpen=this.$siteContent.sections.map((e=>e.url===this.currentSection))},mounted(){window.addEventListener("hashchange",this.urlChange)},methods:{urlChange(){document.title=this.$siteContent.title,window.scrollTo(0,0);const e=window.location.hash.match(/[a-z0-9]+/gi);if(e){const t=this.$siteContent.sections.find((t=>t.url===e[0]));t&&(t.pages?(this.pageData=t.pages.find((t=>t.url===e[1])),this.pageData&&(this.currentSection=e[0],this.currentPage=e[1])):(this.pageData=t,this.pageData&&(this.currentSection=e[0],this.currentPage=""))),document.title+=" | "+(this.currentPage||this.currentSection)}else{const e=JSON.stringify(this.$siteContent).match(/"[a-z0-9-_()]+\.(gif|png|jpg)"/gi);this.pageData={title:"",text:"",images:[]};for(let t=0;t<9;t++){let a;do{a=e[Math.floor(Math.random()*e.length)].replace(/"/g,"")}while(-1!==this.pageData.images.indexOf(a));this.pageData.images.push(4===t?this.$siteContent.landingImage:a)}this.currentSection="",this.currentPage="landing"}this.pageData.images&&(this.imageLoadState=new Array(this.pageData.images.length).fill(!1)),this.pageData.images?.length>2&&"landing"!==this.currentPage?(this.hasLightbox=!0,this.lightboxImage=this.pageData.images[0]):this.hasLightbox=!1,this.pageData.videoLink&&(this.videoPlayerWidth=window.innerWidth>768?720:window.innerWidth-48,this.videoPlayerHeight=(this.pageData.videoLinkHeight||405)*(this.videoPlayerWidth/720))},openImage(e){this.hasLightbox&&(this.lightboxImage=e,window.scrollTo({top:document.getElementById("w34ufs").getBoundingClientRect().top+window.scrollY-16,left:0,behavior:"smooth"}))},openItem(e){this.navOpen=this.navOpen.map((()=>!1)),"number"===typeof e&&(this.navOpen[e]=!0)}}},P=a(89);const S=(0,P.Z)(L,[["render",x]]);var I=S;function H(e){return e.replace(/[^a-z0-9]/gi,"")}fetch("siteContent.json").then((e=>e.json().then((e=>{const t=(0,i.ri)(I);e.sections.forEach((e=>{e.url=H(e.title),e.pages&&e.pages.forEach((e=>e.url=H(e.title)))})),t.provide("$siteContent",e),t.mount("#app")}))))}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,i,n,o){if(!i){var r=1/0;for(c=0;c<e.length;c++){i=e[c][0],n=e[c][1],o=e[c][2];for(var l=!0,s=0;s<i.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((function(e){return a.O[e](i[s])}))?i.splice(s--,1):(l=!1,o<r&&(r=o));if(l){e.splice(c--,1);var g=n();void 0!==g&&(t=g)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,o,r=i[0],l=i[1],s=i[2],g=0;if(r.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var c=s(a)}for(t&&t(i);g<r.length;g++)o=r[g],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},i=self["webpackChunkkav_port"]=self["webpackChunkkav_port"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(6267)}));i=a.O(i)})();
//# sourceMappingURL=app.779e9fdd.js.map