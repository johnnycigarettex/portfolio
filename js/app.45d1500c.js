(function(){"use strict";var e={4673:function(e,t,a){var i=a(9242),n=a(3396),r=a(7139);const o={class:"app"},l=(0,n._)("div",{class:"app__icon"},[(0,n._)("a",{href:"#/","aria-label":"landing page"},[(0,n._)("img",{src:"images/kav-dance-logo.gif","aria-hidden":"true"})])],-1),s={class:"app__nav-button-container"},c={class:"app__nav-list"},g=["onClick"],p=["href"],u={key:1},h=["href"],d={class:"app__header"},v={class:"app__header-title"},_={class:"app__header-title-sub"},f=["innerHTML"],m={key:1,class:"app__main-contact"},b=["href"],w={key:2},k=["width","height","src"],D={key:3,class:"app__main-gallery"},y=["src","aria-label","alt","onClick","onLoad"],C=["src","alt"];function O(e,t,a,i,O,x){return(0,n.wg)(),(0,n.iD)("div",o,[l,(0,n._)("nav",{class:(0,r.C_)(["app__nav",{open:O.mobileNavOpen}])},[(0,n._)("div",s,[(0,n._)("button",{class:"app__nav-button",onClick:t[0]||(t[0]=e=>O.mobileNavOpen=!O.mobileNavOpen),"aria-label":"open navigation"})]),(0,n._)("ul",c,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(x.$siteContent.sections,((e,a)=>((0,n.wg)(),(0,n.iD)("li",{key:a,class:(0,r.C_)(["app__nav-list-item",{active:O.navOpen[a]}]),onClick:e=>x.openItem(a)},[e.pages?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("a",{key:0,href:"#/"+e.url,onClick:t[1]||(t[1]=e=>O.mobileNavOpen=!1)},(0,r.zw)(e.title),9,p)),e.pages?((0,n.wg)(),(0,n.iD)("button",u,(0,r.zw)(e.title),1)):(0,n.kq)("",!0),e.pages?((0,n.wg)(),(0,n.iD)("ul",{key:2,class:(0,r.C_)(["app__nav-list-sub",{active:O.navOpen[a]}])},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.pages,(a=>((0,n.wg)(),(0,n.iD)("li",{key:a.title,class:(0,r.C_)(["app__nav-list-sub-item",{active:O.currentSection===e.url&&O.currentPage===a.url}])},[(0,n._)("a",{href:"#/"+e.url+"/"+a.url,onClick:t[2]||(t[2]=e=>O.mobileNavOpen=!1)},(0,r.zw)(a.title),9,h)],2)))),128))],2)):(0,n.kq)("",!0)],10,g)))),128))])],2),(0,n._)("header",d,[(0,n._)("h1",v,[(0,n._)("div",_,(0,r.zw)(O.currentSection),1),(0,n.Uk)(" "+(0,r.zw)(O.pageData.heading||O.pageData.title),1)])]),(0,n._)("main",{class:(0,r.C_)(["app__main",{"landing-page":"landing"===O.currentPage}])},[O.pageData.text?((0,n.wg)(),(0,n.iD)("p",{key:0,class:"app__main-lede",innerHTML:O.pageData.text},null,8,f)):(0,n.kq)("",!0),O.pageData.contact?((0,n.wg)(),(0,n.iD)("div",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(O.pageData.contact,((e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:t},[(0,n._)("span",null,(0,r.zw)(e.text),1),(0,n._)("a",{href:e.link,target:"_blank"},(0,r.zw)(e.label),9,b)],64)))),128))])):(0,n.kq)("",!0),O.pageData.videoLink?((0,n.wg)(),(0,n.iD)("div",w,[(0,n._)("iframe",{class:"app__main-video-container",width:O.videoPlayerWidth,height:O.videoPlayerHeight,src:O.pageData.videoLink,title:"Video player",frameborder:"0",allowfullscreen:""},null,8,k)])):(0,n.kq)("",!0),O.pageData.images?((0,n.wg)(),(0,n.iD)("div",D,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(O.pageData.images,((e,t)=>((0,n.wg)(),(0,n.iD)("img",{class:(0,r.C_)(["app__main-gallery-item",{"app__main-gallery-item--shop":"Shop"===O.currentSection,loaded:O.imageLoadState[t]}]),key:t,src:"images/"+e,tabindex:"0",role:"button","aria-label":e+". click to enlarge",alt:e,onClick:t=>O.lightboxImage=e,onLoad:e=>O.imageLoadState[t]=!0},null,42,y)))),128))])):(0,n.kq)("",!0),(0,n._)("div",{class:(0,r.C_)(["app__main-lightbox",{open:O.lightboxImage}]),tabindex:"0",role:"button","aria-label":"close image",onClick:t[3]||(t[3]=e=>O.lightboxImage=null)},[(0,n._)("img",{src:"images/"+O.lightboxImage,alt:O.lightboxImage},null,8,C)],2)],2)])}var x={name:"App",data(){return{currentSection:"",currentPage:"",pageData:{},navOpen:[],imageLoadState:[],mobileNavOpen:!1,lightboxImage:null,videoPlayerWidth:720,videoPlayerHeight:405}},inject:["$siteContent"],created(){this.urlChange(),this.navOpen=this.$siteContent.sections.map((e=>e.url===this.currentSection))},mounted(){window.addEventListener("hashchange",this.urlChange)},methods:{urlChange(){document.title=this.$siteContent.title;const e=window.location.hash.match(/[a-z0-9]+/gi);if(e){const t=this.$siteContent.sections.find((t=>t.url===e[0]));t&&(t.pages?(this.pageData=t.pages.find((t=>t.url===e[1])),this.pageData&&(this.currentSection=e[0],this.currentPage=e[1])):(this.pageData=t,this.pageData&&(this.currentSection=e[0],this.currentPage=""))),document.title+=" | "+(this.currentPage||this.currentSection)}else{const e=JSON.stringify(this.$siteContent).match(/"[a-z0-9-_()]+\.(gif|png|jpg)"/gi);this.pageData={title:"",text:"",images:[]};for(let t=0;t<9;t++){let a;do{a=e[Math.floor(Math.random()*e.length)].replace(/"/g,"")}while(-1!==this.pageData.images.indexOf(a));this.pageData.images.push(4===t?this.$siteContent.landingImage:a)}this.currentSection="",this.currentPage="landing"}this.pageData.images&&(this.imageLoadState=new Array(this.pageData.images.length).fill(!1)),this.pageData.videoLink&&(this.videoPlayerWidth=window.innerWidth>768?720:window.innerWidth-48,this.videoPlayerHeight=(this.pageData.videoLinkHeight||405)*(this.videoPlayerWidth/720))},openItem(e){this.navOpen=this.navOpen.map((()=>!1)),"number"===typeof e&&(this.navOpen[e]=!0)}}},P=a(89);const S=(0,P.Z)(x,[["render",O]]);var L=S;function H(e){return e.replace(/[^a-z0-9]/gi,"")}fetch("siteContent.json").then((e=>e.json().then((e=>{const t=(0,i.ri)(L);e.sections.forEach((e=>{e.url=H(e.title),e.pages&&e.pages.forEach((e=>e.url=H(e.title)))})),t.provide("$siteContent",e),t.mount("#app")}))))}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,i,n,r){if(!i){var o=1/0;for(g=0;g<e.length;g++){i=e[g][0],n=e[g][1],r=e[g][2];for(var l=!0,s=0;s<i.length;s++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](i[s])}))?i.splice(s--,1):(l=!1,r<o&&(o=r));if(l){e.splice(g--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var g=e.length;g>0&&e[g-1][2]>r;g--)e[g]=e[g-1];e[g]=[i,n,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,r,o=i[0],l=i[1],s=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(s)var g=s(a)}for(t&&t(i);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(g)},i=self["webpackChunkkav_port"]=self["webpackChunkkav_port"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(4673)}));i=a.O(i)})();
//# sourceMappingURL=app.45d1500c.js.map